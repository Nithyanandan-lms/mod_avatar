{"version":3,"file":"avatar_manage.min.js","sources":["../src/avatar_manage.js"],"sourcesContent":["define([\"jquery\", \"core/modal_factory\", \"core/modal_events\",\n    \"core/ajax\", \"core/templates\", \"core/str\", \"core/fragment\", \"core/notification\"], (\n    $, ModalFactory, ModalEvents, Ajax, Templates, Str, Fragment, Notification) => {\n\n    var AvatarUsageModal = {\n\n        init: function() {\n            document.body.addEventListener(\"click\", (e) => {\n                if (e.target.matches(\".usage-item\")) {\n                    this.showUsageModal(e);\n                }\n            });\n        },\n\n        showUsageModal: function(e) {\n            e.preventDefault();\n\n            var type = e.target.dataset.type;\n            var avatarId = e.target.dataset.avatarid;\n            var title = e.target.closest('ul').dataset.title;\n            ModalFactory.create({\n                type: ModalFactory.types.DEFAULT,\n                title: title,\n                body: Fragment.loadFragment(\"mod_avatar\", \"avatar_usage\", 1, {type: type, avatarid: avatarId}),\n            }).then((modal) => {\n                modal.show();\n                return modal;\n            }).catch(Notification.exception);\n        },\n    };\n\n    return AvatarUsageModal;\n});\n\n"],"names":["define","$","ModalFactory","ModalEvents","Ajax","Templates","Str","Fragment","Notification","init","document","body","addEventListener","e","target","matches","showUsageModal","preventDefault","type","dataset","avatarId","avatarid","title","closest","create","types","DEFAULT","loadFragment","then","modal","show","catch","exception"],"mappings":"AAAAA,kCAAO,CAAC,SAAU,qBAAsB,oBACpC,YAAa,iBAAkB,WAAY,gBAAiB,sBAAsB,CAClFC,EAAGC,aAAcC,YAAaC,KAAMC,UAAWC,IAAKC,SAAUC,gBAEvC,CAEnBC,KAAM,WACFC,SAASC,KAAKC,iBAAiB,SAAUC,IACjCA,EAAEC,OAAOC,QAAQ,qBACZC,eAAeH,OAKhCG,eAAgB,SAASH,GACrBA,EAAEI,qBAEEC,KAAOL,EAAEC,OAAOK,QAAQD,KACxBE,SAAWP,EAAEC,OAAOK,QAAQE,SAC5BC,MAAQT,EAAEC,OAAOS,QAAQ,MAAMJ,QAAQG,MAC3CpB,aAAasB,OAAO,CAChBN,KAAMhB,aAAauB,MAAMC,QACzBJ,MAAOA,MACPX,KAAMJ,SAASoB,aAAa,aAAc,eAAgB,EAAG,CAACT,KAAMA,KAAMG,SAAUD,aACrFQ,MAAMC,QACLA,MAAMC,OACCD,SACRE,MAAMvB,aAAawB"}